{"version":3,"sources":["webpack:///src/app/change-password/change-password-routing.module.ts","webpack:///src/app/change-password/change-password.module.ts","webpack:///src/app/change-password/change-password.page.ts","webpack:///src/app/change-password/change-password.page.scss","webpack:///src/app/change-password/change-password.page.html"],"names":["routes","path","component","ChangePasswordPage","ChangePasswordPageRoutingModule","NgModule","imports","RouterModule","exports","ChangePasswordPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","formBuilder","toastController","router","apiServices","loginService","local","currentUser","value","isError","formGroup","group","existingPassword","FormControl","Validators","newPassword","confirmPassword","get","formValues","valid","userDetails","id","console","log","patch","subscribe","res","create","message","duration","position","color","toast","present","navigate","error","alert","FormBuilder","ToastController","Router","ApiCallsService","LoginService","Component","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,mDAAAC;AAFb,OADqB,CAAvB;;UAWaC,gCAA+B;AAAA;AAAA,O;;AAA/BA,sCAA+B,uDAJ3C,+CAAAC,QAAA,EAAS;AACRC,eAAO,EAAE,CAAC,6CAAAC,YAAA,UAAsBP,MAAtB,CAAD,CADD;AAERQ,eAAO,EAAE,CAAC,6CAAAD,YAAD;AAFD,OAAT,CAI2C,GAA/BH,gCAA+B,CAA/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCIAK,yBAAwB;AAAA;AAAA,O;;AAAxBA,+BAAwB,uDAVpC,+CAAAJ,QAAA,EAAS;AACRC,eAAO,EAAE,CACP,6CAAAI,YADO,EAEP,4CAAAC,WAFO,EAGP,4CAAAC,mBAHO,EAIP,4CAAAC,WAJO,EAKP,6DAAAT,+BALO,CADD;AAQRU,oBAAY,EAAE,CAAC,mDAAAX,kBAAD;AARN,OAAT,CAUoC,GAAxBM,yBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFAN,mBAAkB;AAE7B,oCACUY,WADV,EAEUC,eAFV,EAGUC,MAHV,EAIUC,WAJV,EAKUC,YALV,EAKoC;AAAA;;AAJ1B,eAAAJ,WAAA,GAAAA,WAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AANV,eAAAC,KAAA,GAAQ,KAAKD,YAAL,CAAkBE,WAAlB,CAA8BC,KAAtC;AASA,eAAAC,OAAA,GAAmB,KAAnB;AAFK;;AARwB;AAAA;AAAA,iBAW7B,oBAAW;AACT,iBAAKC,SAAL,GAAiB,KAAKT,WAAL,CAAiBU,KAAjB,CAAuB;AACtCC,8BAAgB,EAAE,IAAI,4CAAAC,WAAJ,CAAgB,EAAhB,EAAoB,CAAC,4CAAAC,UAAA,SAAD,CAApB,CADoB;AAEtCC,yBAAW,EAAE,IAAI,4CAAAF,WAAJ,CAAgB,EAAhB,EAAoB,CAAC,4CAAAC,UAAA,SAAD,CAApB,CAFyB;AAGtCE,6BAAe,EAAE,IAAI,4CAAAH,WAAJ,CAAgB,EAAhB,EAAoB,CAAC,4CAAAC,UAAA,SAAD,CAApB;AAHqB,aAAvB,CAAjB;AAKD;AAjB4B;AAAA;AAAA,eAmB7B,eAAuB;AACrB,mBAAO,KAAKJ,SAAL,CAAeO,GAAf,CAAmB,kBAAnB,CAAP;AACD;AArB4B;AAAA;AAAA,eAsB7B,eAAkB;AAChB,mBAAO,KAAKP,SAAL,CAAeO,GAAf,CAAmB,aAAnB,CAAP;AACD;AAxB4B;AAAA;AAAA,eAyB7B,eAAsB;AACpB,mBAAO,KAAKP,SAAL,CAAeO,GAAf,CAAmB,iBAAnB,CAAP;AACD;AA3B4B;AAAA;AAAA,iBA6B7B,8BAAqBC,UAArB,EAAiC;AAAA;;AAC/B,gBAAI,KAAKR,SAAL,CAAeS,KAAnB,EAA0B;AACxB,mBAAKV,OAAL,GAAe,KAAf;AACAS,wBAAU,CAAC,IAAD,CAAV,GAAmB,KAAKZ,KAAL,CAAWc,WAAX,CAAuBC,EAA1C;AACAC,qBAAO,CAACC,GAAR,CAAYL,UAAZ;;AACA,kBAAIA,UAAU,CAAC,iBAAD,CAAV,IAAiCA,UAAU,CAAC,aAAD,CAA/C,EAAgE;AAC9D,uBAAOA,UAAU,CAAC,iBAAD,CAAjB;AAEA,qBAAKd,WAAL,CAAiBoB,KAAjB,CAAuB,UAAvB,EAAmCN,UAAnC,EAA+CO,SAA/C,CAAyD,UAAMC,GAAN;AAAA,yBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AACpEJ,mCAAO,CAACC,GAAR,CAAYG,GAAZ;AADoE;AAEtD,mCAAM,KAAKxB,eAAL,CAAqByB,MAArB,CAA4B;AAC9CC,qCAAO,EAAE,8BADqC;AAE9CC,sCAAQ,EAAE,IAFoC;AAG9CC,sCAAQ,EAAE,QAHoC;AAI9CC,mCAAK,EAAE;AAJuC,6BAA5B,CAAN;;AAFsD;AAE9DC,iCAF8D;AAQpEA,iCAAK,CAACC,OAAN;AACA,iCAAK9B,MAAL,CAAY+B,QAAZ,CAAqB,CAAC,oBAAD,CAArB;;AAToE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAb;AAAA,iBAAzD,EAUG,UAAMC,KAAN;AAAA,yBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACF,mCAAM,KAAKjC,eAAL,CAAqByB,MAArB,CAA4B;AAC9CC,qCAAO,EAAEO,KAAK,CAACA,KAAN,CAAYP,OADyB;AAE9CC,sCAAQ,EAAE,IAFoC;AAG9CC,sCAAQ,EAAE,QAHoC;AAI9CC,mCAAK,EAAE;AAJuC,6BAA5B,CAAN;;AADE;AACVC,iCADU;AAOhBA,iCAAK,CAACC,OAAN;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAf;AAAA,iBAVH;AAmBD,eAtBD,MAuBK;AACHG,qBAAK,CAAC,0BAAD,CAAL;AACD;AACF,aA9BD,MA+BK;AACH,mBAAK3B,OAAL,GAAe,IAAf;AACD;AACF;AAhE4B;;AAAA;AAAA,S;;;;gBAf7B,4CAAA4B;;gBAFO,4CAAAC;;gBAOA,6CAAAC;;gBACA,yDAAAC;;gBACA,qDAAAC;;;;AAQIpD,yBAAkB,uDAL9B,+CAAAqD,SAAA,EAAU;AACTC,gBAAQ,EAAE,qBADD;AAETC,gBAAQ,EAAR,6EAFS;;AAAA,OAAV,CAK8B,GAAlBvD,mBAAkB,CAAlB;;;;;;;;;AClBb;;;AAAA,uCAAe,48BAAf;;;;;;;;;ACAA;;;AAAA,uCAAe,wqEAAf","file":"src_app_change-password_change-password_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangePasswordPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { ChangePasswordPageRoutingModule } from \"./change-password-routing.module\";\n\nimport { ChangePasswordPage } from \"./change-password.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ChangePasswordPageRoutingModule,\n  ],\n  declarations: [ChangePasswordPage],\n})\nexport class ChangePasswordPageModule { }\n","import { Component, OnInit } from \"@angular/core\";\nimport { ToastController } from \"@ionic/angular\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { Router } from '@angular/router';\nimport { ApiCallsService } from '../services/api-calls.service';\nimport { LoginService } from '../services/login.service';\n\n\n@Component({\n  selector: \"app-change-password\",\n  templateUrl: \"./change-password.page.html\",\n  styleUrls: [\"./change-password.page.scss\"],\n})\nexport class ChangePasswordPage implements OnInit {\n  local = this.loginService.currentUser.value\n  constructor(\n    private formBuilder: FormBuilder,\n    private toastController: ToastController,\n    private router: Router,\n    private apiServices: ApiCallsService,\n    private loginService: LoginService,\n  ) { }\n  formGroup: FormGroup\n  isError: boolean = false\n  ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n      existingPassword: new FormControl(\"\", [Validators.required]),\n      newPassword: new FormControl(\"\", [Validators.required]),\n      confirmPassword: new FormControl(\"\", [Validators.required]),\n    })\n  }\n\n  get existingPassword() {\n    return this.formGroup.get(\"existingPassword\");\n  }\n  get newPassword() {\n    return this.formGroup.get(\"newPassword\");\n  }\n  get confirmPassword() {\n    return this.formGroup.get(\"confirmPassword\");\n  }\n\n  handleFormSubmission(formValues) {\n    if (this.formGroup.valid) {\n      this.isError = false;\n      formValues['id'] = this.local.userDetails.id\n      console.log(formValues)\n      if (formValues['confirmPassword'] == formValues['newPassword']) {\n        delete formValues['confirmPassword']\n\n        this.apiServices.patch('password', formValues).subscribe(async res => {\n          console.log(res)\n          const toast = await this.toastController.create({\n            message: 'Password reset successfully!',\n            duration: 3000,\n            position: 'bottom',\n            color: 'success'\n          });\n          toast.present();\n          this.router.navigate([\"business-dashboard\"])\n        }, async error => {\n          const toast = await this.toastController.create({\n            message: error.error.message,\n            duration: 3000,\n            position: 'bottom',\n            color: 'danger'\n          });\n          toast.present();\n        })\n      }\n      else {\n        alert('Password doesn\\'t match.')\n      }\n    }\n    else {\n      this.isError = true;\n    }\n  }\n\n}\n","export default \"ion-grid {\\n  padding: 10px;\\n}\\n\\nion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n  text-transform: capitalize;\\n}\\n\\n.txt-wrapper {\\n  padding-left: 6px;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #d3d7da9a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxhQUFBO0FBREY7O0FBR0E7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSwwQkFBQTtBQUFGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtBQUNGIiwiZmlsZSI6ImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDU1MgRG9jdW1lbnRzXG5cbmlvbi1ncmlkIHtcbiAgcGFkZGluZzogMTBweDtcbn1cbmlvbi1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG4udHh0LXdyYXBwZXIge1xuICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDEzcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkM2Q3ZGE5YTtcbn0iXX0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"title-android\\\">\\n      Change Password\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\" class=\\\"title-ios\\\">Change password</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"handleFormSubmission(formGroup.value)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Current Password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input type=\\\"password\\\" formControlName=\\\"existingPassword\\\" required></ion-input>\\n          </div>\\n          <ion-label *ngIf=\\\"(existingPassword.invalid &&(existingPassword.dirty || existingPassword.touched))|| isError\\\"\\n            color=\\\"danger\\\">Current password is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>New Password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input required formControlName=\\\"newPassword\\\" type=\\\"password\\\"></ion-input>\\n          </div>\\n          <ion-label *ngIf=\\\"(newPassword.invalid &&(newPassword.dirty || newPassword.touched))|| isError\\\"\\n            color=\\\"danger\\\">New password is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Confirm password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input required formControlName=\\\"confirmPassword\\\" type=\\\"password\\\"></ion-input>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\">Submit\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";"]}