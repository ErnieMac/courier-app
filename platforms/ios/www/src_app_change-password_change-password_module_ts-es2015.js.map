{"version":3,"sources":["./src/app/change-password/change-password-routing.module.ts","./src/app/change-password/change-password.module.ts","./src/app/change-password/change-password.page.ts","./src/app/change-password/change-password.page.scss","./src/app/change-password/change-password.page.html"],"names":[],"mappings":"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","file":"src_app_change-password_change-password_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangePasswordPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { ChangePasswordPageRoutingModule } from \"./change-password-routing.module\";\n\nimport { ChangePasswordPage } from \"./change-password.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ChangePasswordPageRoutingModule,\n  ],\n  declarations: [ChangePasswordPage],\n})\nexport class ChangePasswordPageModule { }\n","import { Component, OnInit } from \"@angular/core\";\nimport { ToastController } from \"@ionic/angular\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { Router } from '@angular/router';\nimport { ApiCallsService } from '../services/api-calls.service';\nimport { LoginService } from '../services/login.service';\n\n\n@Component({\n  selector: \"app-change-password\",\n  templateUrl: \"./change-password.page.html\",\n  styleUrls: [\"./change-password.page.scss\"],\n})\nexport class ChangePasswordPage implements OnInit {\n  local = this.loginService.currentUser.value\n  constructor(\n    private formBuilder: FormBuilder,\n    private toastController: ToastController,\n    private router: Router,\n    private apiServices: ApiCallsService,\n    private loginService: LoginService,\n  ) { }\n  formGroup: FormGroup\n  isError: boolean = false\n  ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n      existingPassword: new FormControl(\"\", [Validators.required]),\n      newPassword: new FormControl(\"\", [Validators.required]),\n      confirmPassword: new FormControl(\"\", [Validators.required]),\n    })\n  }\n\n  get existingPassword() {\n    return this.formGroup.get(\"existingPassword\");\n  }\n  get newPassword() {\n    return this.formGroup.get(\"newPassword\");\n  }\n  get confirmPassword() {\n    return this.formGroup.get(\"confirmPassword\");\n  }\n\n  handleFormSubmission(formValues) {\n    if (this.formGroup.valid) {\n      this.isError = false;\n      formValues['id'] = this.local.userDetails.id\n      console.log(formValues)\n      if (formValues['confirmPassword'] == formValues['newPassword']) {\n        delete formValues['confirmPassword']\n\n        this.apiServices.patch('password', formValues).subscribe(async res => {\n          console.log(res)\n          const toast = await this.toastController.create({\n            message: 'Password reset successfully!',\n            duration: 3000,\n            position: 'bottom',\n            color: 'success'\n          });\n          toast.present();\n          this.router.navigate([\"business-dashboard\"])\n        }, async error => {\n          const toast = await this.toastController.create({\n            message: error.error.message,\n            duration: 3000,\n            position: 'bottom',\n            color: 'danger'\n          });\n          toast.present();\n        })\n      }\n      else {\n        alert('Password doesn\\'t match.')\n      }\n    }\n    else {\n      this.isError = true;\n    }\n  }\n\n}\n","export default \"ion-grid {\\n  padding: 10px;\\n}\\n\\nion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n  text-transform: capitalize;\\n}\\n\\n.txt-wrapper {\\n  padding-left: 6px;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #d3d7da9a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxhQUFBO0FBREY7O0FBR0E7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSwwQkFBQTtBQUFGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtBQUNGIiwiZmlsZSI6ImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDU1MgRG9jdW1lbnRzXG5cbmlvbi1ncmlkIHtcbiAgcGFkZGluZzogMTBweDtcbn1cbmlvbi1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG4udHh0LXdyYXBwZXIge1xuICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDEzcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkM2Q3ZGE5YTtcbn0iXX0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"title-android\\\">\\n      Change Password\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\" class=\\\"title-ios\\\">Change password</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"handleFormSubmission(formGroup.value)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Current Password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input type=\\\"password\\\" formControlName=\\\"existingPassword\\\" required></ion-input>\\n          </div>\\n          <ion-label *ngIf=\\\"(existingPassword.invalid &&(existingPassword.dirty || existingPassword.touched))|| isError\\\"\\n            color=\\\"danger\\\">Current password is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>New Password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input required formControlName=\\\"newPassword\\\" type=\\\"password\\\"></ion-input>\\n          </div>\\n          <ion-label *ngIf=\\\"(newPassword.invalid &&(newPassword.dirty || newPassword.touched))|| isError\\\"\\n            color=\\\"danger\\\">New password is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Confirm password <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-input required formControlName=\\\"confirmPassword\\\" type=\\\"password\\\"></ion-input>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\">Submit\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}