{"version":3,"sources":["./src/app/cancel-delivery/cancel-delivery-routing.module.ts","./src/app/cancel-delivery/cancel-delivery.module.ts","./src/app/cancel-delivery/cancel-delivery.page.ts","./src/app/cancel-delivery/cancel-delivery.page.scss","./src/app/cancel-delivery/cancel-delivery.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEK;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qEAAkB;KAC9B;CACF,CAAC;IAMW,+BAA+B,SAA/B,+BAA+B;CAAG;AAAlC,+BAA+B;IAJ3C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,+BAA+B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBH;AACM;AACmB;AAErB;AAEsC;AAEvB;IAY/C,wBAAwB,SAAxB,wBAAwB;CAAI;AAA5B,wBAAwB;IAVpC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,+DAAmB;YACnB,uDAAW;YACX,4FAA+B;SAChC;QACD,YAAY,EAAE,CAAC,qEAAkB,CAAC;KACnC,CAAC;GACW,wBAAwB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBa;AACc;AACc;AAC7B;AAMzB;AACgC;AACC;IAO5C,kBAAkB,SAAlB,kBAAkB;IAE7B,YACU,WAA4B,EAC5B,cAAsC,EACtC,WAAwB,EACxB,eAAgC,EAChC,MAAsB,EACtB,KAAa,EACb,YAA0B;QAN1B,gBAAW,GAAX,WAAW,CAAiB;QAC5B,mBAAc,GAAd,cAAc,CAAwB;QACtC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAgB;QACtB,UAAK,GAAL,KAAK,CAAQ;QACb,iBAAY,GAAZ,YAAY,CAAc;QARpC,UAAK,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK;QAY3C,YAAO,GAAY,KAAK;IAHpB,CAAC;IAIL,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,YAAY,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACxD,WAAW,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;SACjC,CAAC;IAEJ,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC5C,CAAC;IACD,qBAAqB;IACrB,6CAA6C;IAC7C,IAAI;IAEE,oBAAoB,CAAC,UAAU;;YACnC,IAAI,IAAI,GAAG;gBACT,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;gBACnC,cAAc,EAAE,UAAU,CAAC,YAAY;gBACvC,aAAa,EAAE,UAAU,CAAC,WAAW;gBACrC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;aACjD;YACD,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;gBACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;gBACjB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,CAAM,GAAG,EAAC,EAAE,CAAC;oBACnE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;oBAChB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wBAC9C,OAAO,EAAE,GAAG,CAAC,OAAO;wBACpB,QAAQ,EAAE,IAAI;wBACd,QAAQ,EAAE,QAAQ;wBAClB,KAAK,EAAE,SAAS;qBACjB,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;oBAChB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,oBAAoB,CAAC;gBAChD,CAAC,GAAE,CAAM,KAAK,EAAC,EAAE,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;oBAClB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wBAC9C,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;wBAC5B,QAAQ,EAAE,IAAI;wBACd,QAAQ,EAAE,QAAQ;wBAClB,KAAK,EAAE,QAAQ;qBAChB,CAAC,CAAC;oBAEH,KAAK,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC,EAAC;aACH;iBACI;gBACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC;aACvC;QACH,CAAC;KAAA;CAGF;;YArFQ,wEAAe;YACf,sFAAsB;YAG7B,uDAAW;YAFJ,2DAAe;YAQP,2DAAc;YAAtB,mDAAM;YADN,iEAAY;;AAQR,kBAAkB;IAL9B,wDAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,oFAA0C;;KAE3C,CAAC;GACW,kBAAkB,CAoE9B;AApE8B;;;;;;;;;;;;;AClB/B,+DAAe,WAAW,kBAAkB,GAAG,gBAAgB,uBAAuB,uBAAuB,oBAAoB,GAAG,eAAe,qBAAqB,oBAAoB,+BAA+B,GAAG,kBAAkB,oBAAoB,GAAG,kBAAkB,sBAAsB,uBAAuB,oBAAoB,gCAAgC,GAAG,qBAAqB,uBAAuB,gCAAgC,GAAG,6CAA6C,+lCAA+lC,E;;;;;;;;;;;;ACAxlD,+DAAe,w6EAAw6E,E","file":"src_app_cancel-delivery_cancel-delivery_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CancelDeliveryPage } from './cancel-delivery.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CancelDeliveryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CancelDeliveryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CancelDeliveryPageRoutingModule } from './cancel-delivery-routing.module';\n\nimport { CancelDeliveryPage } from './cancel-delivery.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    CancelDeliveryPageRoutingModule\n  ],\n  declarations: [CancelDeliveryPage]\n})\nexport class CancelDeliveryPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ApiCallsService } from '../services/api-calls.service';\nimport { BusinessBookingService } from '../services/business-booking.service';\nimport { ToastController } from \"@ionic/angular\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { LoginService } from '../services/login.service'\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-cancel-delivery',\n  templateUrl: './cancel-delivery.page.html',\n  styleUrls: ['./cancel-delivery.page.scss'],\n})\nexport class CancelDeliveryPage implements OnInit {\n  local = this.loginService.currentUser.value\n  constructor(\n    private apiServices: ApiCallsService,\n    private bookingService: BusinessBookingService,\n    private formBuilder: FormBuilder,\n    private toastController: ToastController,\n    private router: ActivatedRoute,\n    private route: Router,\n    private loginService: LoginService\n  ) { }\n\n  formGroup: FormGroup\n  isError: boolean = false\n  ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n      cancelReason: new FormControl(\"\", [Validators.required]),\n      cancelNotes: new FormControl(\"\"),\n    })\n\n  }\n\n  get cancelReason() {\n    return this.formGroup.get(\"cancelReason\");\n  }\n  // get claimNotes() {\n  //   return this.formGroup.get(\"claimNotes\");\n  // }\n\n  async handleFormSubmission(formValues) {\n    var data = {\n      'userId': this.local.userDetails.id,\n      'cancelReason': formValues.cancelReason,\n      'cancelNotes': formValues.cancelNotes,\n      \"jobId\": this.router.snapshot.paramMap.get(\"id\")\n    }\n    if (this.formGroup.valid) {\n      this.isError = false;\n      console.log(data)\n      this.bookingService.patch('cancel-job', data).subscribe(async res => {\n        console.log(res)\n        const toast = await this.toastController.create({\n          message: res.message,\n          duration: 3000,\n          position: 'bottom',\n          color: 'success'\n        });\n        toast.present();\n        this.route.navigateByUrl('ongoing-deliveries')\n      }, async error => {\n        console.log(error)\n        const toast = await this.toastController.create({\n          message: error.error.message,\n          duration: 3000,\n          position: 'bottom',\n          color: 'danger'\n        });\n\n        toast.present();\n      })\n    }\n    else {\n      this.isError = true;\n      console.log('All Fields Are Required')\n    }\n  }\n\n\n}\n","export default \"ion-grid {\\n  padding: 10px;\\n}\\n\\nion-select {\\n  padding-left: 10px;\\n  padding-right: 8px;\\n  font-size: 14px;\\n}\\n\\nion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n  text-transform: capitalize;\\n}\\n\\nion-textarea {\\n  font-size: 14px;\\n}\\n\\n.txt-wrapper {\\n  padding-left: 6px;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #d3d7da9a;\\n}\\n\\n.select-wrapper {\\n  border-radius: 4px;\\n  border: 1px solid #d3d7da9a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbmNlbC1kZWxpdmVyeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDSSxhQUFBO0FBREo7O0FBR0E7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQUFKOztBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsMEJBQUE7QUFDSjs7QUFDQTtFQUNJLGVBQUE7QUFFSjs7QUFBQTtFQUNJLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsMkJBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0VBQ0EsMkJBQUE7QUFJSiIsImZpbGUiOiJjYW5jZWwtZGVsaXZlcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ1NTIERvY3VtZW50c1xuXG5pb24tZ3JpZCB7XG4gICAgcGFkZGluZzogMTBweDtcbn1cbmlvbi1zZWxlY3Qge1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4Oztcbn1cbmlvbi1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5pb24tdGV4dGFyZWEge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cbi50eHQtd3JhcHBlciB7XG4gICAgcGFkZGluZy1sZWZ0OiA2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDNkN2RhOWE7XG59XG4uc2VsZWN0LXdyYXBwZXIge1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDNkN2RhOWE7XG59Il19 */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"title-android\\\">\\n      Cancel delivery\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\" class=\\\"title-ios\\\">Cancel delivery</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"handleFormSubmission(formGroup.value)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Reason for cancelling <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"select-wrapper\\\">\\n            <ion-select slot=\\\"start\\\" formControlName=\\\"cancelReason\\\" placeholder=\\\"Select reason\\\">\\n              <ion-select-option data-reasonCode=\\\"Reason 1\\\" value=\\\"Reason 1\\\">Reason 1</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 2\\\" value=\\\"Reason 2\\\">Reason 2</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 3\\\" value=\\\"Reason 3\\\">Reason 3</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 4\\\" value=\\\"Reason 4\\\">Reason 4</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 5\\\" value=\\\"Reason 5\\\">Reason 5</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 6\\\" value=\\\"Reason 6\\\">Reason 6</ion-select-option>\\n            </ion-select>\\n          </div>\\n          <ion-label *ngIf=\\\"(cancelReason.invalid &&(cancelReason.dirty || cancelReason.touched))|| isError\\\"\\n            color=\\\"danger\\\">Cancel reason is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Cancel note </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-textarea formControlName=\\\"cancelNotes\\\" placeholder=\\\"Enter your cancellation notes here...\\\">\\n            </ion-textarea>\\n          </div>\\n          <!-- <ion-label color=\\\"danger\\\">Cancel note is required</ion-label> -->\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\">Submit\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}