{"version":3,"sources":["./node_modules/cordova-plugin-fcm-with-dependecy-updated/ionic/FCM.js","./src/app/business-dashboard/business-dashboard-routing.module.ts","./src/app/business-dashboard/business-dashboard.module.ts","./src/app/business-dashboard/business-dashboard.page.ts","./src/app/business-dashboard/business-dashboard.page.scss","./src/app/business-dashboard/business-dashboard.page.html"],"names":[],"mappings":"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","file":"src_app_business-dashboard_business-dashboard_module_ts-es2015.js","sourcesContent":["import { Subject } from 'rxjs'\n\nfunction FCMPluginOnIonic() {}\nFCMPluginOnIonic.prototype.clearAllNotifications = function () {\n    return window.FCM.clearAllNotifications()\n}\nFCMPluginOnIonic.prototype.createNotificationChannel = function (channelConfig) {\n    return window.FCM.createNotificationChannel(channelConfig)\n}\nFCMPluginOnIonic.prototype.deleteInstanceId = function () {\n    return window.FCM.deleteInstanceId()\n}\nFCMPluginOnIonic.prototype.getAPNSToken = function () {\n    return window.FCM.getAPNSToken()\n}\nFCMPluginOnIonic.prototype.getInitialPushPayload = function () {\n    return window.FCM.getInitialPushPayload()\n}\nFCMPluginOnIonic.prototype.getToken = function () {\n    return window.FCM.getToken()\n}\nFCMPluginOnIonic.prototype.hasPermission = function () {\n    return window.FCM.hasPermission()\n}\nFCMPluginOnIonic.prototype.onNotification = function (options) {\n    var observable = new Subject()\n    var handler = function (payload) {\n        return observable.next(payload)\n    }\n    window.FCM.onNotification(handler, options)\n    return observable\n}\nFCMPluginOnIonic.prototype.onTokenRefresh = function (options) {\n    var observable = new Subject()\n    window.FCM.onTokenRefresh(function (token) {\n        return observable.next(token)\n    }, options)\n    return observable\n}\nFCMPluginOnIonic.prototype.requestPushPermission = function (options) {\n    return window.FCM.requestPushPermission(options)\n}\nFCMPluginOnIonic.prototype.subscribeToTopic = function (topic) {\n    return window.FCM.subscribeToTopic(topic)\n}\nFCMPluginOnIonic.prototype.unsubscribeFromTopic = function (topic) {\n    return window.FCM.unsubscribeFromTopic(topic)\n}\n\nexport { FCMPluginOnIonic }\nexport var FCM = new FCMPluginOnIonic()\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BusinessDashboardPage } from './business-dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BusinessDashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BusinessDashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BusinessDashboardPageRoutingModule } from './business-dashboard-routing.module';\n\nimport { BusinessDashboardPage } from './business-dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BusinessDashboardPageRoutingModule\n  ],\n  declarations: [BusinessDashboardPage]\n})\nexport class BusinessDashboardPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoginService } from '../services/login.service'\nimport { ApiCallsService } from '../services/api-calls.service'\nimport { Observable, of } from 'rxjs';\n// import { BackgroundMode } from '@ionic-native/background-mode/ngx';\n// import { FCM } from '@ionic-native/fcm/ngx';\nimport { FCM } from 'cordova-plugin-fcm-with-dependecy-updated/ionic';\n@Component({\n  selector: 'app-business-dashboard',\n  templateUrl: './business-dashboard.page.html',\n  styleUrls: ['./business-dashboard.page.scss'],\n})\nexport class BusinessDashboardPage implements OnInit {\n  userDetails$: Observable<any> = of(this.loginService.currentUser.value)\n  constructor(\n    // private backgroundMode: BackgroundMode,\n    private loginService: LoginService,\n    private apiService: ApiCallsService\n  ) { }\n\n  ngOnInit() {\n    // this.backgroundMode.enable();\n    let currentUser = this.loginService.currentUser.value;\n    console.log(this.loginService.currentUser.value)\n    console.log(currentUser.userDetails.id)\n    this.getToken(currentUser)\n  }\n\n  getToken(res) {\n\n    FCM.requestPushPermission().then(hasPermission => {\n      console.log('PERMISSION:', hasPermission)\n      if (hasPermission) {\n        FCM.getToken().then(token => {\n          console.log('THIS IS FROM getToken()------->' + token);\n          let data = {\n            \"userId\": res.userDetails.id,\n            \"fcmToken\": token\n          }\n          this.apiService.saveFCMToken(data).subscribe(res => {\n            console.log(res)\n          })\n        }, error => {\n          console.log('THIS IS ERROR-------->', error)\n        });\n\n        FCM.onNotification().subscribe(data => {\n          console.log(data);\n          if (data.wasTapped) {\n            console.log('Received in background');\n          } else {\n            console.log('Received in foreground');\n          }\n        }, error => {\n          console.log('error', error)\n        });\n\n        FCM.onTokenRefresh().subscribe(token => {\n          console.log('THIS IS FROM onTokenRefresh()------->' + token);\n        }, error => {\n          console.log('THIS IS REFRESH ERROR-------->', error)\n        });\n\n\n        // subscribe to a topic\n        FCM.subscribeToTopic('businesses');\n      }\n    })\n  }\n\n}\n","export default \".card-orange {\\n  background: #F45A2A 0% 0% no-repeat;\\n  box-shadow: 0px 10px 10px #0000001A;\\n  border-radius: 8px;\\n  opacity: 1;\\n}\\n\\n.card-green {\\n  background: #2AF0B4 0% 0% no-repeat;\\n  box-shadow: 0px 10px 10px #0000001A;\\n  border-radius: 8px;\\n  opacity: 1;\\n}\\n\\n.card-blue {\\n  background: #1A6AE1 0% 0% no-repeat;\\n  box-shadow: 0px 10px 10px #0000001A;\\n  border-radius: 8px;\\n  opacity: 1;\\n}\\n\\n.heading-title {\\n  color: #FFFFFF;\\n  font-weight: 600;\\n  font-size: 18px;\\n  padding: 15px;\\n}\\n\\nion-card {\\n  height: 120px;\\n  margin: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2luZXNzLWRhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0E7RUFDSSxtQ0FBQTtFQUNBLG1DQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FBTko7O0FBUUE7RUFDSSxtQ0FBQTtFQUNBLG1DQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FBTEo7O0FBT0E7RUFDSSxtQ0FBQTtFQUNBLG1DQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FBSko7O0FBTUE7RUFDSSxjQXJCVTtFQXNCVixnQkFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0FBSEo7O0FBS0E7RUFDSSxhQUFBO0VBQ0EsV0FBQTtBQUZKIiwiZmlsZSI6ImJ1c2luZXNzLWRhc2hib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDU1MgRG9jdW1lbnRzXG4kb3JhbmdlLWNvbG9yOiAjRjQ1QTJBO1xuJGJsdWUtY29sb3I6ICMxQTZBRTE7XG4kYmxhY2stY29sb3I6ICMyRjM3M0Q7XG4kZ3JlZW4tY29sb3I6ICMyQUYwQjQ7XG4kd2hpdGUtY29sb3I6ICNGRkZGRkY7XG5cbi5jYXJkLW9yYW5nZSB7XG4gICAgYmFja2dyb3VuZDogJG9yYW5nZS1jb2xvciAwJSAwJSBuby1yZXBlYXQ7XG4gICAgYm94LXNoYWRvdzogMHB4IDEwcHggMTBweCAjMDAwMDAwMUE7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIG9wYWNpdHk6IDE7XG59XG4uY2FyZC1ncmVlbiB7XG4gICAgYmFja2dyb3VuZDogJGdyZWVuLWNvbG9yIDAlIDAlIG5vLXJlcGVhdDtcbiAgICBib3gtc2hhZG93OiAwcHggMTBweCAxMHB4ICMwMDAwMDAxQTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgb3BhY2l0eTogMTtcbn1cbi5jYXJkLWJsdWUge1xuICAgIGJhY2tncm91bmQ6ICRibHVlLWNvbG9yIDAlIDAlIG5vLXJlcGVhdDtcbiAgICBib3gtc2hhZG93OiAwcHggMTBweCAxMHB4ICMwMDAwMDAxQTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgb3BhY2l0eTogMTtcbn1cbi5oZWFkaW5nLXRpdGxlIHtcbiAgICBjb2xvcjogJHdoaXRlLWNvbG9yO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIHBhZGRpbmc6IDE1cHg7XG59XG5pb24tY2FyZCB7XG4gICAgaGVpZ2h0OiAxMjBweDtcbiAgICBtYXJnaW46IDVweDtcbn1cbiJdfQ== */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <!-- <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons> -->\\n    <ion-title class=\\\"title-android\\\">\\n      <span *ngIf=\\\"userDetails$ | async as user\\\">{{user.userDetails.firstname}} {{user.userDetails.lastname}}</span>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\" class=\\\"title-ios\\\"><span *ngIf=\\\"userDetails$ | async as user\\\">{{user.userDetails.businessName}}</span></ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/add-new-delivery']\\\" color=\\\"primary\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"add-circle\\\"></ion-icon><br /> Add New<br> Delivery\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/ongoing-deliveries']\\\" color=\\\"primary\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"bookmarks\\\"></ion-icon><br /> My <br />Deliveries\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/my-balance']\\\" class=\\\"card-blue\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"wallet\\\"></ion-icon><br /> My Balance\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/top-up']\\\" color=\\\"primary\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"card\\\"></ion-icon><br />Top Up<br> Credit\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/chat-history']\\\" color=\\\"primary\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"chatbubbles\\\"></ion-icon><br /> Chat <br />History\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/business-profile']\\\" class=\\\"card-blue\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"business\\\"></ion-icon><br /> Business<br /> Profile\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n\\n      <ion-col>\\n        <ion-card [routerLink]=\\\"['/help-support']\\\" color=\\\"primary\\\">\\n          <div class=\\\"heading-title\\\">\\n            <ion-icon name=\\\"help-circle\\\"></ion-icon><br /> Help &<br /> Support\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}