{"version":3,"sources":["webpack:///src/app/make-claim/make-claim-routing.module.ts","webpack:///src/app/make-claim/make-claim.module.ts","webpack:///src/app/make-claim/make-claim.page.ts","webpack:///src/app/make-claim/make-claim.page.scss","webpack:///src/app/make-claim/make-claim.page.html"],"names":["routes","path","component","MakeClaimPage","MakeClaimPageRoutingModule","NgModule","imports","RouterModule","exports","MakeClaimPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","apiServices","formBuilder","toastController","router","route","loginService","local","currentUser","value","isError","submitText","of","formGroup","group","claimReason","FormControl","Validators","claimNotes","get","formValues","data","userDetails","id","snapshot","paramMap","valid","console","log","patch","subscribe","res","navigationExtras","state","job","navigate","error","create","message","duration","position","color","toast","present","BusinessBookingService","FormBuilder","ToastController","ActivatedRoute","Router","LoginService","Component","selector","template"],"mappings":"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","file":"src_app_make-claim_make-claim_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MakeClaimPage } from './make-claim.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MakeClaimPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MakeClaimPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MakeClaimPageRoutingModule } from './make-claim-routing.module';\n\nimport { MakeClaimPage } from './make-claim.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MakeClaimPageRoutingModule\n  ],\n  declarations: [MakeClaimPage]\n})\nexport class MakeClaimPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ApiCallsService } from '../services/api-calls.service';\nimport { ToastController } from \"@ionic/angular\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\nimport { LoginService } from '../services/login.service'\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { BusinessBookingService } from '../services/business-booking.service';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n  selector: 'app-make-claim',\n  templateUrl: './make-claim.page.html',\n  styleUrls: ['./make-claim.page.scss'],\n})\nexport class MakeClaimPage implements OnInit {\n  submitText: Observable<any>\n  local = this.loginService.currentUser.value\n  constructor(\n    private apiServices: BusinessBookingService,\n    private formBuilder: FormBuilder,\n    private toastController: ToastController,\n    private router: ActivatedRoute,\n    private route: Router,\n    private loginService: LoginService\n  ) { this.submitText = of('Submit') }\n\n  formGroup: FormGroup\n  isError: boolean = false\n  ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n      claimReason: new FormControl(\"\", [Validators.required]),\n      claimNotes: new FormControl(\"\"),\n    })\n\n  }\n\n  get claimReason() {\n    return this.formGroup.get(\"claimReason\");\n  }\n  // get claimNotes() {\n  //   return this.formGroup.get(\"claimNotes\");\n  // }\n\n  async handleFormSubmission(formValues) {\n    this.submitText = of('Please wait...')\n    var data = {\n      'userId': this.local.userDetails.id,\n      'claimNotes': formValues.claimNotes,\n      'claimReason': formValues.claimReason,\n      \"jobId\": this.router.snapshot.paramMap.get(\"id\")\n    }\n    if (this.formGroup.valid) {\n      this.isError = false;\n      console.log(data)\n      this.apiServices.patch('claim-job', data).subscribe(res => {\n        this.submitText = of('Submit')\n        console.log(res)\n\n        let navigationExtras: NavigationExtras = {\n          state: {\n            job: res\n          }\n        };\n        this.route.navigate(['delivery-details'], navigationExtras);\n\n      }, async error => {\n        this.submitText = of('Submit')\n        console.log(error)\n        const toast = await this.toastController.create({\n          message: error.error.message,\n          duration: 3000,\n          position: 'bottom',\n          color: 'danger'\n        });\n        toast.present();\n      })\n    }\n    else {\n      this.isError = true;\n      console.log('All Fields Are Required')\n    }\n  }\n\n}\n","export default \"ion-grid {\\n  padding: 10px;\\n}\\n\\nion-select {\\n  padding-left: 10px;\\n  padding-right: 8px;\\n  font-size: 14px;\\n}\\n\\nion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n  text-transform: capitalize;\\n}\\n\\nion-textarea {\\n  font-size: 14px;\\n}\\n\\n.txt-wrapper {\\n  padding-left: 6px;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #d3d7da9a;\\n}\\n\\n.select-wrapper {\\n  border-radius: 4px;\\n  border: 1px solid #d3d7da9a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ha2UtY2xhaW0ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksYUFBQTtBQURKOztBQUdBO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFBSjs7QUFFQTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLDBCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxlQUFBO0FBRUo7O0FBQUE7RUFDSSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FBR0o7O0FBREE7RUFDSSxrQkFBQTtFQUNBLDJCQUFBO0FBSUoiLCJmaWxlIjoibWFrZS1jbGFpbS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDU1MgRG9jdW1lbnRzXG5cbmlvbi1ncmlkIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuaW9uLXNlbGVjdCB7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5pb24tbGFiZWwge1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xufVxuaW9uLXRleHRhcmVhIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG4udHh0LXdyYXBwZXIge1xuICAgIHBhZGRpbmctbGVmdDogNnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2QzZDdkYTlhO1xufVxuLnNlbGVjdC13cmFwcGVyIHtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2QzZDdkYTlhO1xufSJdfQ== */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"title-android\\\">\\n      Make a claim\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\" class=\\\"title-ios\\\">Make a claim</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"handleFormSubmission(formGroup.value)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Reason for making a claim <ion-text color=\\\"danger\\\">*</ion-text>\\n          </ion-label>\\n          <div class=\\\"select-wrapper\\\">\\n            <ion-select slot=\\\"start\\\" formControlName=\\\"claimReason\\\" placeholder=\\\"Select reason\\\">\\n              <ion-select-option data-reasonCode=\\\"Reason 1\\\" value=\\\"Reason 1\\\">Reason 1</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 2\\\" value=\\\"Reason 2\\\">Reason 2</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 3\\\" value=\\\"Reason 3\\\">Reason 3</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 4\\\" value=\\\"Reason 4\\\">Reason 4</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 5\\\" value=\\\"Reason 5\\\">Reason 5</ion-select-option>\\n              <ion-select-option data-reasonCode=\\\"Reason 6\\\" value=\\\"Reason 6\\\">Reason 6</ion-select-option>\\n            </ion-select>\\n          </div>\\n          <ion-label *ngIf=\\\"(claimReason.invalid &&(claimReason.dirty || claimReason.touched))|| isError\\\"\\n            color=\\\"danger\\\">Claim reason is required</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col>\\n          <ion-label>Claim note </ion-label>\\n          <div class=\\\"txt-wrapper\\\">\\n            <ion-textarea formControlName=\\\"claimNotes\\\" placeholder=\\\"Enter your claim notes here...\\\"></ion-textarea>\\n          </div>\\n          <!-- <ion-label color=\\\"danger\\\">Claim note is required</ion-label> -->\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col *ngIf=\\\"submitText | async as btnText\\\">\\n          <ion-button [disabled]=\\\"btnText == 'Please wait...'\\\" type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\">\\n            {{btnText}}\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";"]}